<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>cimport</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);

  const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark') {
      toggleSwitch.checked = true;
    }
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">cimport</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple">
    <li>
      <a href="theindex.html">Index</a>
    </li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#cDebug"
    title="cDebug()"><wbr />c<wbr />Debug<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cDisableCaching"
    title="cDisableCaching()"><wbr />c<wbr />Disable<wbr />Caching<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cSearchPath%2Cstring"
    title="cSearchPath(path: string): string"><wbr />c<wbr />Search<wbr />Path<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cAddSearchDir%2Cstring"
    title="cAddSearchDir(dir: string)"><wbr />c<wbr />Add<wbr />Search<wbr />Dir<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cAddStdDir%2Cstring"
    title="cAddStdDir(mode = &quot;c&quot;)"><wbr />c<wbr />Add<wbr />Std<wbr />Dir<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cSkipSymbol%2Cseq%5Bstring%5D"
    title="cSkipSymbol(skips: seq[string])"><wbr />c<wbr />Skip<wbr />Symbol<span class="attachedType"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#17" id="67">Macros</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#cDefine.m%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D"
    title="cDefine(name: static[string]; val: static[string] = &quot;&quot;): untyped"><wbr />c<wbr />Define<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cDefine.m"
    title="cDefine(values: static seq[string]): untyped"><wbr />c<wbr />Define<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cIncludeDir.m%2C%2Cstatic%5Bbool%5D"
    title="cIncludeDir(dirs: static seq[string]; exclude: static[bool] = false): untyped"><wbr />c<wbr />Include<wbr />Dir<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cIncludeDir.m%2Cstatic%5Bstring%5D%2Cstatic%5Bbool%5D"
    title="cIncludeDir(dir: static[string]; exclude: static[bool] = false): untyped"><wbr />c<wbr />Include<wbr />Dir<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cExclude.m"
    title="cExclude(paths: static seq[string]): untyped"><wbr />c<wbr />Exclude<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cExclude.m_2"
    title="cExclude(path: static string): untyped"><wbr />c<wbr />Exclude<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cPassC.m"
    title="cPassC(value: static string): untyped"><wbr />c<wbr />Pass<wbr />C<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cPassL.m"
    title="cPassL(value: static string): untyped"><wbr />c<wbr />Pass<wbr />L<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cCompile.m%2C%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D"
    title="cCompile(path: static string; mode: static[string] = &quot;c&quot;; exclude: static[string] = &quot;&quot;): untyped"><wbr />c<wbr />Compile<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#renderPragma.m"
    title="renderPragma(): untyped"><wbr />render<wbr />Pragma<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cOverride.m"
    title="cOverride(body): untyped"><wbr />c<wbr />Override<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cPlugin.m"
    title="cPlugin(body): untyped"><wbr />c<wbr />Plugin<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cPluginPath.m%2Cstatic%5Bstring%5D"
    title="cPluginPath(path: static[string]): untyped"><wbr />c<wbr />Plugin<wbr />Path<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cImport.m%2C%2Cstring%2Cstring%2Cstring%2Cstring"
    title="cImport(filenames: static seq[string]; recurse: static bool = false;
        dynlib: static string = &quot;&quot;; mode: static string = &quot;c&quot;; flags: static string = &quot;&quot;;
        nimFile: static string = &quot;&quot;): untyped"><wbr />c<wbr />Import<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cImport.m%2C%2Cstring%2Cstring%2Cstring%2Cstring_2"
    title="cImport(filename: static string; recurse: static bool = false;
        dynlib: static string = &quot;&quot;; mode: static string = &quot;c&quot;; flags: static string = &quot;&quot;;
        nimFile: static string = &quot;&quot;): untyped"><wbr />c<wbr />Import<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#c2nImport.m%2C%2Cstring%2Cstring%2Cstring%2Cstring"
    title="c2nImport(filename: static string; recurse: static bool = false;
          dynlib: static string = &quot;&quot;; mode: static string = &quot;c&quot;;
          flags: static string = &quot;&quot;; nimFile: static string = &quot;&quot;): untyped"><wbr />c2n<wbr />Import<span class="attachedType"></span></a></li>

  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"></p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="globals.html">globals</a>, <a class="reference external" href="paths.html">paths</a>, <a class="reference external" href="build/ccompiler.html">build/ccompiler</a>, <a class="reference external" href="build/misc.html">build/misc</a>, <a class="reference external" href="build/nimconf.html">build/nimconf</a>, <a class="reference external" href="build/shell.html">build/shell</a>
</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<a id="cDebug"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#cDebug"><span class="Identifier">cDebug</span></a><span class="Other">(</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">compileTime</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Enable debug messages and display the generated Nim code

</dd>
<a id="cDisableCaching"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#cDisableCaching"><span class="Identifier">cDisableCaching</span></a><span class="Other">(</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">compileTime</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Disable caching of generated Nim code - useful during wrapper development</p>
<p>If files included by header being processed by <tt class="docutils literal"><span class="pre">cImport()</span></tt> change and affect the generated content, they will be ignored and the cached value will continue to be used . Use <tt class="docutils literal"><span class="pre">cDisableCaching()</span></tt> to avoid this scenario during development.</p>
<p><tt class="docutils literal"><span class="pre">nim -f</span></tt> can also be used to flush the cached content.</p>


</dd>
<a id="cSearchPath,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#cSearchPath%2Cstring"><span class="Identifier">cSearchPath</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">compileTime</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadDirEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Get full path to file or directory <tt class="docutils literal"><span class="pre">path</span></tt> in search path configured using <tt class="docutils literal"><span class="pre">cAddSearchDir()</span></tt> and <tt class="docutils literal"><span class="pre">cAddStdDir()</span></tt>.</p>
<p>This can be used to locate files or directories that can be passed onto <tt class="docutils literal"><span class="pre">cCompile()</span></tt>, <tt class="docutils literal"><span class="pre">cIncludeDir()</span></tt> and <tt class="docutils literal"><span class="pre">cImport()</span></tt>.</p>


</dd>
<a id="cAddSearchDir,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#cAddSearchDir%2Cstring"><span class="Identifier">cAddSearchDir</span></a><span class="Other">(</span><span class="Identifier">dir</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">compileTime</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Add directory <tt class="docutils literal"><span class="pre">dir</span></tt> to the search path used in calls to <tt class="docutils literal"><span class="pre">cSearchPath()</span></tt>.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span><span class="Whitespace"> </span><span class="Identifier">nimterop</span><span class="Operator">/</span><span class="Identifier">paths</span><span class="Punctuation">,</span><span class="Whitespace"> </span><span class="Identifier">os</span><span class="Whitespace">
</span><span class="Keyword">static</span><span class="Punctuation">:</span><span class="Whitespace">
  </span><span class="Identifier">cAddSearchDir</span><span class="Whitespace"> </span><span class="Identifier">testsIncludeDir</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Whitespace">
  </span><span class="Identifier">doAssert</span><span class="Whitespace"> </span><span class="Identifier">cSearchPath</span><span class="Punctuation">(</span><span class="StringLit">&quot;test.h&quot;</span><span class="Punctuation">)</span><span class="Operator">.</span><span class="Identifier">fileExists</span></pre>

</dd>
<a id="cAddStdDir,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#cAddStdDir%2Cstring"><span class="Identifier">cAddStdDir</span></a><span class="Other">(</span><span class="Identifier">mode</span> <span class="Other">=</span> <span class="StringLit">&quot;c&quot;</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">compileTime</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span>
    <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span>
                            <span class="Identifier">ReadEnvEffect</span><span class="Other">,</span> <span class="Identifier">ReadDirEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Add the standard <tt class="docutils literal"><span class="pre">c</span></tt> [default] or <tt class="docutils literal"><span class="pre">cpp</span></tt> include paths to search path used in calls to <tt class="docutils literal"><span class="pre">cSearchPath()</span></tt>.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span><span class="Whitespace"> </span><span class="Identifier">os</span><span class="Whitespace">
</span><span class="Keyword">static</span><span class="Punctuation">:</span><span class="Whitespace">
  </span><span class="Identifier">cAddStdDir</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Whitespace">
  </span><span class="Identifier">doAssert</span><span class="Whitespace"> </span><span class="Identifier">cSearchPath</span><span class="Punctuation">(</span><span class="StringLit">&quot;math.h&quot;</span><span class="Punctuation">)</span><span class="Operator">.</span><span class="Identifier">fileExists</span></pre>

</dd>
<a id="cSkipSymbol,seq[string]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#cSkipSymbol%2Cseq%5Bstring%5D"><span class="Identifier">cSkipSymbol</span></a><span class="Other">(</span><span class="Identifier">skips</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">compileTime</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Similar to <tt class="docutils literal"><span class="pre">cOverride()</span></tt>, this macro allows filtering out symbols not of interest from the generated output.</p>
<p><tt class="docutils literal"><span class="pre">cSkipSymbol()</span></tt> only affects calls to <tt class="docutils literal"><span class="pre">cImport()</span></tt> that follow it.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">static</span><span class="Punctuation">:</span><span class="Whitespace"> </span><span class="Identifier">cSkipSymbol</span><span class="Whitespace"> </span><span class="Operator">@</span><span class="Punctuation">[</span><span class="StringLit">&quot;proc1&quot;</span><span class="Punctuation">,</span><span class="Whitespace"> </span><span class="StringLit">&quot;Type2&quot;</span><span class="Punctuation">]</span></pre>

</dd>

</dl></div>
<div class="section" id="17">
<h1><a class="toc-backref" href="#17">Macros</a></h1>
<dl class="item">
<a id="cDefine.m,static[string],static[string]"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#cDefine.m%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D"><span class="Identifier">cDefine</span></a><span class="Other">(</span><span class="Identifier">name</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p><tt class="docutils literal"><span class="pre">#define</span></tt> an identifer that is forwarded to the C/C++ preprocessor if called within <tt class="docutils literal"><span class="pre">cImport()</span></tt> or <tt class="docutils literal"><span class="pre">c2nImport()</span></tt> as well as to the C/C++ compiler during Nim compilation using <tt class="docutils literal"><span class="pre">{.passC: &quot;-DXXX&quot;.}</span></tt></p>
<p>This needs to be called before <tt class="docutils literal"><span class="pre">cImport()</span></tt> to take effect.</p>


</dd>
<a id="cDefine.m"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#cDefine.m"><span class="Identifier">cDefine</span></a><span class="Other">(</span><span class="Identifier">values</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p><tt class="docutils literal"><span class="pre">#define</span></tt> multiple identifers that are forwarded to the C/C++ preprocessor if called within <tt class="docutils literal"><span class="pre">cImport()</span></tt> or <tt class="docutils literal"><span class="pre">c2nImport()</span></tt> as well as to the C/C++ compiler during Nim compilation using <tt class="docutils literal"><span class="pre">{.passC: &quot;-DXXX&quot;.}</span></tt></p>
<p>This needs to be called before <tt class="docutils literal"><span class="pre">cImport()</span></tt> to take effect.</p>


</dd>
<a id="cIncludeDir.m,,static[bool]"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#cIncludeDir.m%2C%2Cstatic%5Bbool%5D"><span class="Identifier">cIncludeDir</span></a><span class="Other">(</span><span class="Identifier">dirs</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">exclude</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">bool</span><span class="Other">]</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Add include directories that are forwarded to the C/C++ preprocessor if called within <tt class="docutils literal"><span class="pre">cImport()</span></tt> or <tt class="docutils literal"><span class="pre">c2nImport()</span></tt> as well as to the C/C++ compiler during Nim compilation using <tt class="docutils literal"><span class="pre">{.passC: &quot;-IXXX&quot;.}</span></tt>.</p>
<p>Set <tt class="docutils literal"><span class="pre">exclude = true</span></tt> if the contents of these include directories should not be included in the wrapped output.</p>
<p>This needs to be called before <tt class="docutils literal"><span class="pre">cImport()</span></tt> to take effect.</p>


</dd>
<a id="cIncludeDir.m,static[string],static[bool]"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#cIncludeDir.m%2Cstatic%5Bstring%5D%2Cstatic%5Bbool%5D"><span class="Identifier">cIncludeDir</span></a><span class="Other">(</span><span class="Identifier">dir</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">exclude</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">bool</span><span class="Other">]</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Add an include directory that is forwarded to the C/C++ preprocessor if called within <tt class="docutils literal"><span class="pre">cImport()</span></tt> or <tt class="docutils literal"><span class="pre">c2nImport()</span></tt> as well as to the C/C++ compiler during Nim compilation using <tt class="docutils literal"><span class="pre">{.passC: &quot;-IXXX&quot;.}</span></tt>.</p>
<p>Set <tt class="docutils literal"><span class="pre">exclude = true</span></tt> if the contents of this include directory should not be included in the wrapped output.</p>
<p>This needs to be called before <tt class="docutils literal"><span class="pre">cImport()</span></tt> to take effect.</p>


</dd>
<a id="cExclude.m"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#cExclude.m"><span class="Identifier">cExclude</span></a><span class="Other">(</span><span class="Identifier">paths</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Exclude specified paths - files or directories from the wrapped output</p>
<p>Full path to file or directory is required.</p>


</dd>
<a id="cExclude.m_2"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#cExclude.m_2"><span class="Identifier">cExclude</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Exclude specified path - file or directory from the wrapped output.</p>
<p>Full path to file or directory is required.</p>


</dd>
<a id="cPassC.m"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#cPassC.m"><span class="Identifier">cPassC</span></a><span class="Other">(</span><span class="Identifier">value</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Create a <tt class="docutils literal"><span class="pre">{.passC.}</span></tt> entry that gets forwarded to the C/C++ compiler during Nim compilation.</p>
<p><tt class="docutils literal"><span class="pre">cPassC()</span></tt> needs to be called before <tt class="docutils literal"><span class="pre">cImport()</span></tt> to take effect and gets consumed and reset so as not to impact subsequent <tt class="docutils literal"><span class="pre">cImport()</span></tt> calls.</p>


</dd>
<a id="cPassL.m"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#cPassL.m"><span class="Identifier">cPassL</span></a><span class="Other">(</span><span class="Identifier">value</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Create a <tt class="docutils literal"><span class="pre">{.passL.}</span></tt> entry that gets forwarded to the C/C++ compiler during Nim compilation.</p>
<p><tt class="docutils literal"><span class="pre">cPassL()</span></tt> needs to be called before <tt class="docutils literal"><span class="pre">cImport()</span></tt> to take effect and gets consumed and reset so as not to impact subsequent <tt class="docutils literal"><span class="pre">cImport()</span></tt> calls.</p>


</dd>
<a id="cCompile.m,,static[string],static[string]"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#cCompile.m%2C%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D"><span class="Identifier">cCompile</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">mode</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;c&quot;</span><span class="Other">;</span>
              <span class="Identifier">exclude</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Compile and link C/C++ implementation into resulting binary using <tt class="docutils literal"><span class="pre">{.compile.}</span></tt></p>
<p><tt class="docutils literal"><span class="pre">path</span></tt> can be a specific file or contain <tt class="docutils literal"><span class="pre">*</span></tt> wildcard for filename:</p>
<pre class="listing"><span class="Identifier">cCompile</span><span class="Punctuation">(</span><span class="StringLit">&quot;file.c&quot;</span><span class="Punctuation">)</span>
<span class="Identifier">cCompile</span><span class="Punctuation">(</span><span class="StringLit">&quot;path/to/*.c&quot;</span><span class="Punctuation">)</span></pre><p><tt class="docutils literal"><span class="pre">mode</span></tt> recursively searches for code files in <tt class="docutils literal"><span class="pre">path</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">c</span></tt> searches for <tt class="docutils literal"><span class="pre">*.c</span></tt> whereas <tt class="docutils literal"><span class="pre">cpp</span></tt> searches for <tt class="docutils literal"><span class="pre">*.C *.cpp *.c++ *.cc *.cxx</span></tt></p>
<pre class="listing"><span class="Identifier">cCompile</span><span class="Punctuation">(</span><span class="StringLit">&quot;path/to/dir&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;cpp&quot;</span><span class="Punctuation">)</span></pre><p><tt class="docutils literal"><span class="pre">exclude</span></tt> can be used to exclude files by partial string match. Comma separated to specify multiple exclude strings</p>
<pre class="listing"><span class="Identifier">cCompile</span><span class="Punctuation">(</span><span class="StringLit">&quot;path/to/dir&quot;</span><span class="Punctuation">,</span> <span class="Identifier">exclude</span><span class="Operator">=</span><span class="StringLit">&quot;test2.c&quot;</span><span class="Punctuation">)</span></pre><p><tt class="docutils literal"><span class="pre">cCompile()</span></tt> needs to be called before <tt class="docutils literal"><span class="pre">cImport()</span></tt> to take effect and gets consumed and reset so as not to impact subsequent <tt class="docutils literal"><span class="pre">cImport()</span></tt> calls.</p>


</dd>
<a id="renderPragma.m"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#renderPragma.m"><span class="Identifier">renderPragma</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>All <tt class="docutils literal"><span class="pre">cDefine()</span></tt>, <tt class="docutils literal"><span class="pre">cIncludeDir()</span></tt>, <tt class="docutils literal"><span class="pre">cCompile()</span></tt>, <tt class="docutils literal"><span class="pre">cPassC()</span></tt> and <tt class="docutils literal"><span class="pre">cPassL()</span></tt> content typically gets forwarded via <tt class="docutils literal"><span class="pre">cImport()</span></tt> to the generated wrapper to be rendered as part of the output so as to enable standalone wrappers. If <tt class="docutils literal"><span class="pre">cImport()</span></tt> is not being used for some reason, <tt class="docutils literal"><span class="pre">renderPragma()</span></tt> can create these pragmas in the nimterop wrapper itself. A good example is using <tt class="docutils literal"><span class="pre">getHeader()</span></tt> without calling <tt class="docutils literal"><span class="pre">cImport()</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">c2nImport()</span></tt> already uses this macro so there's no need to use it when typically wrapping headers.</p>


</dd>
<a id="cOverride.m"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#cOverride.m"><span class="Identifier">cOverride</span></a><span class="Other">(</span><span class="Identifier">body</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>When the wrapper code generated by nimterop is missing certain symbols or not accurate, it may be required to hand wrap them. Define them in a <tt class="docutils literal"><span class="pre">cOverride()</span></tt> macro block so that Nimterop uses these definitions instead.</p>
<p>For example:</p>
<pre class="listing"><span class="Keyword">int</span> <span class="Identifier">svGetCallerInfo</span><span class="Punctuation">(</span><span class="Keyword">const</span> <span class="Keyword">char</span><span class="Operator">**</span> <span class="Identifier">fileName</span><span class="Punctuation">,</span> <span class="Keyword">int</span> <span class="Operator">*</span><span class="Identifier">lineNumber</span><span class="Punctuation">)</span><span class="Punctuation">;</span></pre><p>This might map to:</p>
<pre class="listing"><span class="Keyword">proc</span> <span class="Identifier">svGetCallerInfo</span><span class="Punctuation">(</span><span class="Identifier">fileName</span><span class="Punctuation">:</span> <span class="Keyword">ptr</span> <span class="Identifier">cstring</span><span class="Punctuation">;</span> <span class="Identifier">lineNumber</span><span class="Punctuation">:</span> <span class="Keyword">var</span> <span class="Identifier">cint</span><span class="Punctuation">)</span></pre><p>Whereas it might mean:</p>
<pre class="listing"><span class="Identifier">cOverride</span><span class="Punctuation">:</span>
  <span class="Keyword">proc</span> <span class="Identifier">svGetCallerInfo</span><span class="Punctuation">(</span><span class="Identifier">fileName</span><span class="Punctuation">:</span> <span class="Keyword">var</span> <span class="Identifier">cstring</span><span class="Punctuation">;</span> <span class="Identifier">lineNumber</span><span class="Punctuation">:</span> <span class="Keyword">var</span> <span class="Identifier">cint</span><span class="Punctuation">)</span></pre><p>Using the <tt class="docutils literal"><span class="pre">cOverride()</span></tt> block, nimterop can be instructed to use this definition of <tt class="docutils literal"><span class="pre">svGetCallerInfo()</span></tt> instead. This works for procs, consts and types.</p>
<p><tt class="docutils literal"><span class="pre">cOverride()</span></tt> only affects the next <tt class="docutils literal"><span class="pre">cImport()</span></tt> call. This is because any recognized symbols get overridden in place and any remaining symbols get added to the top. If reused, the next <tt class="docutils literal"><span class="pre">cImport()</span></tt> would add those symbols again leading to redefinition errors.</p>


</dd>
<a id="cPlugin.m"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#cPlugin.m"><span class="Identifier">cPlugin</span></a><span class="Other">(</span><span class="Identifier">body</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

When <tt class="docutils literal"><span class="pre">cOverride()</span></tt> and <tt class="docutils literal"><span class="pre">cSkipSymbol()</span></tt> are not adequate, the <tt class="docutils literal"><span class="pre">cPlugin()</span></tt> macro can be used to customize the generated Nim output. The following callbacks are available at this time.<pre class="listing"><span class="Keyword">proc</span> <span class="Identifier">onSymbol</span><span class="Punctuation">(</span><span class="Identifier">sym</span><span class="Punctuation">:</span> <span class="Keyword">var</span> <span class="Identifier">Symbol</span><span class="Punctuation">)</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">exportc</span><span class="Punctuation">,</span> <span class="Identifier">dynlib</span><span class="Operator">.</span><span class="Punctuation">}</span></pre><p><tt class="docutils literal"><span class="pre">onSymbol()</span></tt> can be used to handle symbol name modifications required due to invalid characters in identifiers or to rename symbols that would clash due to Nim's style insensitivity. The symbol name and type is provided to the callback and the name can be modified.</p>
<p>While <tt class="docutils literal"><span class="pre">cPlugin</span></tt> can easily remove leading/trailing <tt class="docutils literal"><span class="pre">_</span></tt> or prefixes and suffixes like <tt class="docutils literal"><span class="pre">SDL_</span></tt>, passing <tt class="docutils literal"><span class="pre">--prefix</span></tt> or <tt class="docutils literal"><span class="pre">--suffix</span></tt> flags to <tt class="docutils literal"><span class="pre">cImport</span></tt> in the <tt class="docutils literal"><span class="pre">flags</span></tt> parameter is much easier. However, these flags will only be considered when no <tt class="docutils literal"><span class="pre">cPlugin</span></tt> is specified.</p>
<p>Returning a blank name will result in the symbol being skipped. This will fail for <tt class="docutils literal"><span class="pre">nskParam</span></tt> and <tt class="docutils literal"><span class="pre">nskField</span></tt> since the generated Nim code will be wrong.</p>
<p>Symbol types can be any of the following:</p>
<ul class="simple"><li><tt class="docutils literal"><span class="pre">nskConst</span></tt> for constants</li>
<li><tt class="docutils literal"><span class="pre">nskType</span></tt> for type identifiers, including primitive</li>
<li><tt class="docutils literal"><span class="pre">nskParam</span></tt> for param names</li>
<li><tt class="docutils literal"><span class="pre">nskField</span></tt> for struct field names</li>
<li><tt class="docutils literal"><span class="pre">nskEnumField</span></tt> for enum (field) names, though they are in the global namespace as <tt class="docutils literal"><span class="pre">nskConst</span></tt></li>
<li><tt class="docutils literal"><span class="pre">nskProc</span></tt> - for proc names</li>
</ul>
<p><tt class="docutils literal"><span class="pre">macros</span></tt> and <tt class="docutils literal"><span class="pre">nimterop/plugins</span></tt> are implicitly imported to provide access to standard plugin facilities.</p>
<p><tt class="docutils literal"><span class="pre">cPlugin()</span></tt>  only affects calls to <tt class="docutils literal"><span class="pre">cImport()</span></tt> that follow it.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Identifier">cPlugin</span><span class="Punctuation">:</span><span class="Whitespace">
  </span><span class="Keyword">import</span><span class="Whitespace"> </span><span class="Identifier">strutils</span><span class="Whitespace">

  </span><span class="Comment"># Strip leading and trailing underscores</span><span class="Whitespace">
  </span><span class="Keyword">proc</span><span class="Whitespace"> </span><span class="Identifier">onSymbol</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">sym</span><span class="Punctuation">:</span><span class="Whitespace"> </span><span class="Keyword">var</span><span class="Whitespace"> </span><span class="Identifier">Symbol</span><span class="Punctuation">)</span><span class="Whitespace"> </span><span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">exportc</span><span class="Punctuation">,</span><span class="Whitespace"> </span><span class="Identifier">dynlib</span><span class="Operator">.</span><span class="Punctuation">}</span><span class="Whitespace"> </span><span class="Operator">=</span><span class="Whitespace">
    </span><span class="Identifier">sym</span><span class="Operator">.</span><span class="Identifier">name</span><span class="Whitespace"> </span><span class="Operator">=</span><span class="Whitespace"> </span><span class="Identifier">sym</span><span class="Operator">.</span><span class="Identifier">name</span><span class="Operator">.</span><span class="Identifier">strip</span><span class="Punctuation">(</span><span class="Identifier">chars</span><span class="Operator">=</span><span class="Punctuation">{</span><span class="CharLit">&apos;_&apos;</span><span class="Punctuation">}</span><span class="Punctuation">)</span></pre>
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Identifier">cPlugin</span><span class="Punctuation">:</span><span class="Whitespace">
  </span><span class="Keyword">import</span><span class="Whitespace"> </span><span class="Identifier">strutils</span><span class="Whitespace">

  </span><span class="Comment"># Strip prefix from procs</span><span class="Whitespace">
  </span><span class="Keyword">proc</span><span class="Whitespace"> </span><span class="Identifier">onSymbol</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">sym</span><span class="Punctuation">:</span><span class="Whitespace"> </span><span class="Keyword">var</span><span class="Whitespace"> </span><span class="Identifier">Symbol</span><span class="Punctuation">)</span><span class="Whitespace"> </span><span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">exportc</span><span class="Punctuation">,</span><span class="Whitespace"> </span><span class="Identifier">dynlib</span><span class="Operator">.</span><span class="Punctuation">}</span><span class="Whitespace"> </span><span class="Operator">=</span><span class="Whitespace">
    </span><span class="Keyword">if</span><span class="Whitespace"> </span><span class="Identifier">sym</span><span class="Operator">.</span><span class="Identifier">kind</span><span class="Whitespace"> </span><span class="Operator">==</span><span class="Whitespace"> </span><span class="Identifier">nskProc</span><span class="Whitespace"> </span><span class="Keyword">and</span><span class="Whitespace"> </span><span class="Identifier">sym</span><span class="Operator">.</span><span class="Identifier">name</span><span class="Operator">.</span><span class="Identifier">contains</span><span class="Punctuation">(</span><span class="StringLit">&quot;SDL_&quot;</span><span class="Punctuation">)</span><span class="Punctuation">:</span><span class="Whitespace">
      </span><span class="Identifier">sym</span><span class="Operator">.</span><span class="Identifier">name</span><span class="Whitespace"> </span><span class="Operator">=</span><span class="Whitespace"> </span><span class="Identifier">sym</span><span class="Operator">.</span><span class="Identifier">name</span><span class="Operator">.</span><span class="Identifier">replace</span><span class="Punctuation">(</span><span class="StringLit">&quot;SDL_&quot;</span><span class="Punctuation">,</span><span class="Whitespace"> </span><span class="StringLit">&quot;&quot;</span><span class="Punctuation">)</span></pre>

</dd>
<a id="cPluginPath.m,static[string]"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#cPluginPath.m%2Cstatic%5Bstring%5D"><span class="Identifier">cPluginPath</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Rather than embedding the <tt class="docutils literal"><span class="pre">cPlugin()</span></tt> code within the wrapper, it might be preferable to have it stored in a separate source file. This allows for reuse across multiple wrappers when applicable.</p>
<p>The <tt class="docutils literal"><span class="pre">cPluginPath()</span></tt> macro enables this functionality - specify the path to the plugin file and it will be consumed in the same way as <tt class="docutils literal"><span class="pre">cPlugin()</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">path</span></tt> is relative to the current dir and not necessarily relative to the location of the wrapper file. Use <tt class="docutils literal"><span class="pre">currentSourcePath</span></tt> to specify a path relative to the wrapper file.</p>
<p>Unlike <tt class="docutils literal"><span class="pre">cPlugin()</span></tt>, this macro also does not implicitly import any other modules since the standalone plugin file will need explicit imports for <tt class="docutils literal"><span class="pre">nim check</span></tt> and suggestions to work. <tt class="docutils literal"><span class="pre">import nimterop/plugin</span></tt> is required for all plugins.</p>


</dd>
<a id="cImport.m,,string,string,string,string"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#cImport.m%2C%2Cstring%2Cstring%2Cstring%2Cstring"><span class="Identifier">cImport</span></a><span class="Other">(</span><span class="Identifier">filenames</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">recurse</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span>
             <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">mode</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;c&quot;</span><span class="Other">;</span>
             <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">nimFile</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Import multiple headers in one shot</p>
<p>This macro is preferable over multiple individual <tt class="docutils literal"><span class="pre">cImport()</span></tt> calls, especially when the headers might <tt class="docutils literal"><span class="pre">#include</span></tt> the same headers and result in duplicate symbols.</p>


</dd>
<a id="cImport.m,,string,string,string,string_2"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#cImport.m%2C%2Cstring%2Cstring%2Cstring%2Cstring_2"><span class="Identifier">cImport</span></a><span class="Other">(</span><span class="Identifier">filename</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">recurse</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span>
             <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">mode</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;c&quot;</span><span class="Other">;</span>
             <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">nimFile</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Import all supported definitions from specified header file. Generated content is cached in <tt class="docutils literal"><span class="pre">nimcache</span></tt> until <tt class="docutils literal"><span class="pre">filename</span></tt> changes unless <tt class="docutils literal"><span class="pre">cDisableCaching()</span></tt> is set. <tt class="docutils literal"><span class="pre">nim -f</span></tt> can also be used to flush the cache.</p>
<p><tt class="docutils literal"><span class="pre">recurse</span></tt> can be used to generate Nim wrappers from <tt class="docutils literal"><span class="pre">#include</span></tt> files referenced in <tt class="docutils literal"><span class="pre">filename</span></tt>. This is only done for files in the same directory as <tt class="docutils literal"><span class="pre">filename</span></tt> or in a directory added using <tt class="docutils literal"><span class="pre">cIncludeDir()</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">dynlib</span></tt> can be used to specify the Nim string to use to specify the dynamic library to load the imported symbols from. For example:</p>
<pre class="listing"><span class="Keyword">const</span>
  <span class="Identifier">dynpcre</span> <span class="Operator">=</span>
    <span class="Keyword">when</span> <span class="Identifier">defined</span><span class="Punctuation">(</span><span class="Identifier">Windows</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
      <span class="Keyword">when</span> <span class="Identifier">defined</span><span class="Punctuation">(</span><span class="Identifier">cpu64</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
        <span class="StringLit">&quot;pcre64.dll&quot;</span>
      <span class="Keyword">else</span><span class="Punctuation">:</span>
        <span class="StringLit">&quot;pcre32.dll&quot;</span>
    <span class="Keyword">elif</span> <span class="Identifier">hostOS</span> <span class="Operator">==</span> <span class="StringLit">&quot;macosx&quot;</span><span class="Punctuation">:</span>
      <span class="StringLit">&quot;libpcre(.3|.1|).dylib&quot;</span>
    <span class="Keyword">else</span><span class="Punctuation">:</span>
      <span class="StringLit">&quot;libpcre.so(.3|.1|)&quot;</span>

<span class="Identifier">cImport</span><span class="Punctuation">(</span><span class="StringLit">&quot;pcre.h&quot;</span><span class="Punctuation">,</span> <span class="Identifier">dynlib</span><span class="Operator">=</span><span class="StringLit">&quot;dynpcre&quot;</span><span class="Punctuation">)</span></pre><p>If <tt class="docutils literal"><span class="pre">dynlib</span></tt> is not specified, the C/C++ implementation files can be compiled in with <tt class="docutils literal"><span class="pre">cCompile()</span></tt>, or the <tt class="docutils literal"><span class="pre">{.passL.}</span></tt> pragma can be used to specify the static lib to link.</p>
<p><tt class="docutils literal"><span class="pre">mode</span></tt> selects the preprocessor and tree-sitter parser to be used to process the header.</p>
<p><tt class="docutils literal"><span class="pre">flags</span></tt> can be used to pass any other command line arguments to <tt class="docutils literal"><span class="pre">toast</span></tt>. A good example would be <tt class="docutils literal"><span class="pre">--prefix</span></tt> and <tt class="docutils literal"><span class="pre">--suffix</span></tt> which strip leading and trailing strings from identifiers, <tt class="docutils literal"><span class="pre">_</span></tt> being quite common.</p>
<p><tt class="docutils literal"><span class="pre">nimFile</span></tt> is the location where the generated wrapper should get written. By default, the generated wrapper is written to <tt class="docutils literal"><span class="pre">nimcache</span></tt> and included from there. <tt class="docutils literal"><span class="pre">nimFile</span></tt> makes it possible to write the wrapper to a predetermined location which can then be directly imported into the main application and checked into source control if preferred. Importing the nimterop wrapper with <tt class="docutils literal"><span class="pre">nimFile</span></tt> specified still works per usual. If <tt class="docutils literal"><span class="pre">nimFile</span></tt> is not an absolute path, it is relative to the project path.</p>
<p><tt class="docutils literal"><span class="pre">cImport()</span></tt> consumes and resets preceding <tt class="docutils literal"><span class="pre">cOverride()</span></tt> calls. <tt class="docutils literal"><span class="pre">cPlugin()</span></tt> is retained for the next <tt class="docutils literal"><span class="pre">cImport()</span></tt> call unless a new <tt class="docutils literal"><span class="pre">cPlugin()</span></tt> call is defined.</p>


</dd>
<a id="c2nImport.m,,string,string,string,string"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#c2nImport.m%2C%2Cstring%2Cstring%2Cstring%2Cstring"><span class="Identifier">c2nImport</span></a><span class="Other">(</span><span class="Identifier">filename</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">recurse</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span>
               <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">mode</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;c&quot;</span><span class="Other">;</span>
               <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">nimFile</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Import all supported definitions from specified header file using <tt class="docutils literal"><span class="pre">c2nim</span></tt></p>
<p>Similar to <tt class="docutils literal"><span class="pre">cImport()</span></tt> but uses <tt class="docutils literal"><span class="pre">c2nim</span></tt> to generate the Nim wrapper instead of <tt class="docutils literal"><span class="pre">toast</span></tt>. Note that neither <tt class="docutils literal"><span class="pre">cOverride()</span></tt>, <tt class="docutils literal"><span class="pre">cSkipSymbol()</span></tt> nor <tt class="docutils literal"><span class="pre">cPlugin()</span></tt> have any impact on <tt class="docutils literal"><span class="pre">c2nim</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">toast</span></tt> is only used to preprocess the header file and <tt class="docutils literal"><span class="pre">recurse</span></tt> if specified.</p>
<p><tt class="docutils literal"><span class="pre">mode</span></tt> should be set to <tt class="docutils literal"><span class="pre">cpp</span></tt> for c2nim to wrap C++ headers.</p>
<p><tt class="docutils literal"><span class="pre">flags</span></tt> can be used to pass other command line arguments to <tt class="docutils literal"><span class="pre">c2nim</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">nimFile</span></tt> is the location where the generated wrapper should get written, similar to <tt class="docutils literal"><span class="pre">cImport()</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">nimterop</span></tt> does not depend on <tt class="docutils literal"><span class="pre">c2nim</span></tt> as a <tt class="docutils literal"><span class="pre">nimble</span></tt> dependency so it does not get installed automatically. Any wrapper or library that requires this proc needs to install <tt class="docutils literal"><span class="pre">c2nim</span></tt> with <tt class="docutils literal"><span class="pre">nimble install c2nim</span></tt> or add it as a dependency in its own <tt class="docutils literal"><span class="pre">.nimble</span></tt> file.</p>


</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2020-07-18 01:57:47 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
