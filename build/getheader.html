<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>build/getheader</title>
<link rel="stylesheet" type="text/css" href="../nimdoc.out.css">

<script type="text/javascript" src="../dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);


  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    document.documentElement.setAttribute('data-theme', "dark");
    toggleSwitch.checked = true;
  } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
    document.documentElement.setAttribute('data-theme', "light");
    toggleSwitch.checked = false;
  } else {
    const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
    if (currentTheme) {
      document.documentElement.setAttribute('data-theme', currentTheme);

      if (currentTheme === 'dark') {
        toggleSwitch.checked = true;
      }
    }
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">build/getheader</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple">
    <li>
      <a href="../theindex.html">Index</a>
    </li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#17" id="67">Macros</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#setDefines.m"
    title="setDefines(defs: static openArray[string]): untyped"><wbr />set<wbr />Defines<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#clearDefines.m"
    title="clearDefines(): untyped"><wbr />clear<wbr />Defines<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#isDefined.m%2Cuntyped"
    title="isDefined(def: untyped): untyped"><wbr />is<wbr />Defined<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#getHeader.m%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5BopenArray%5BBuildType%5D%5D"
    title="getHeader(header: static[string]; giturl: static[string] = &quot;&quot;;
          dlurl: static[string] = &quot;&quot;; conanuri: static[string] = &quot;&quot;;
          jbburi: static[string] = &quot;&quot;; outdir: static[string] = &quot;&quot;;
          libdir: static[string] = &quot;&quot;; conFlags: static[string] = &quot;&quot;;
          cmakeFlags: static[string] = &quot;&quot;; makeFlags: static[string] = &quot;&quot;;
          altNames: static[string] = &quot;&quot;;
          buildTypes: static[openArray[BuildType]] = [btCmake, btAutoconf]): untyped"><wbr />get<wbr />Header<span class="attachedType"></span></a></li>

  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"></p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="../globals.html">../globals</a>, <a class="reference external" href="ccompiler.html">ccompiler</a>, <a class="reference external" href="conan.html">conan</a>, <a class="reference external" href="jbb.html">jbb</a>, <a class="reference external" href="nimconf.html">nimconf</a>, <a class="reference external" href="shell.html">shell</a>, <a class="reference external" href="tools.html">tools</a>
</dl></div>
<div class="section" id="17">
<h1><a class="toc-backref" href="#17">Macros</a></h1>
<dl class="item">
<a id="setDefines.m"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#setDefines.m"><span class="Identifier">setDefines</span></a><span class="Other">(</span><span class="Identifier">defs</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Specify <tt class="docutils literal"><span class="pre">-d:xxx</span></tt> values in code instead of having to rely on the command line or <tt class="docutils literal"><span class="pre">cfg</span></tt> or <tt class="docutils literal"><span class="pre">nims</span></tt> files.</p>
<p>At this time, Nim does not allow creation of <tt class="docutils literal"><span class="pre">-d:xxx</span></tt> defines in code. In addition, Nim only loads config files for the module being compiled but not for imported packages. This becomes a challenge when wanting to ship a wrapper library that wants to control <tt class="docutils literal"><span class="pre">getHeader()</span></tt> for an underlying package.</p>
<blockquote><p>E.g. nimarchive wanting to set <tt class="docutils literal"><span class="pre">-d:lzmaStatic</span></tt></p></blockquote>
<p>The consumer of nimarchive would need to set such defines as part of their project, making it inconvenient.</p>
<p>By calling this proc with the defines preferred before importing such a module, the caller can set the behavior in code instead.</p>
<pre class="listing"><span class="Identifier">setDefines</span><span class="Punctuation">(</span><span class="Operator">@</span><span class="Punctuation">[</span><span class="StringLit">&quot;lzmaStatic&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;lzmaDL&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;lzmaSetVer=5.2.4&quot;</span><span class="Punctuation">]</span><span class="Punctuation">)</span>

<span class="Keyword">import</span> <span class="Identifier">lzma</span></pre>

</dd>
<a id="clearDefines.m"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#clearDefines.m"><span class="Identifier">clearDefines</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

Clear all defines set using <tt class="docutils literal"><span class="pre">setDefines()</span></tt>.

</dd>
<a id="isDefined.m,untyped"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#isDefined.m%2Cuntyped"><span class="Identifier">isDefined</span></a><span class="Other">(</span><span class="Identifier">def</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

Check if <tt class="docutils literal"><span class="pre">-d:xxx</span></tt> is set globally or via <tt class="docutils literal"><span class="pre">setDefines()</span></tt>

</dd>
<a id="getHeader.m,static[string],static[string],static[string],static[string],static[string],static[string],static[string],static[string],static[string],static[string],static[string],static[openArray[BuildType]]"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#getHeader.m%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5BopenArray%5BBuildType%5D%5D"><span class="Identifier">getHeader</span></a><span class="Other">(</span><span class="Identifier">header</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">giturl</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
               <span class="Identifier">dlurl</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">conanuri</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
               <span class="Identifier">jbburi</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">outdir</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
               <span class="Identifier">libdir</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">conFlags</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
               <span class="Identifier">cmakeFlags</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">makeFlags</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
               <span class="Identifier">altNames</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
               <span class="Identifier">buildTypes</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">openArray</span><span class="Other">[</span><a href="../globals.html#BuildType"><span class="Identifier">BuildType</span></a><span class="Other">]</span><span class="Other">]</span> <span class="Other">=</span> <span class="Other">[</span><span class="Identifier">btCmake</span><span class="Other">,</span> <span class="Identifier">btAutoconf</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Get the path to a header file for wrapping with <a class="reference external" href="cimport.html#cImport.m%2C%2Cstring%2Cstring%2Cstring">cImport()</a> or <a class="reference external" href="cimport.html#c2nImport.m%2C%2Cstring%2Cstring%2Cstring">c2nImport()</a>.</p>
<p>This proc checks <tt class="docutils literal"><span class="pre">-d:xxx</span></tt> defines based on the header name (e.g. lzma from lzma.h), and accordingly employs different ways to obtain the source.</p>
<p><tt class="docutils literal"><span class="pre">-d:xxxStd</span></tt> - search standard system paths. E.g. <tt class="docutils literal"><span class="pre">/usr/include</span></tt> and <tt class="docutils literal"><span class="pre">/usr/lib</span></tt> on Linux <tt class="docutils literal"><span class="pre">-d:xxxGit</span></tt> - clone source from a git repo specified in <tt class="docutils literal"><span class="pre">giturl</span></tt> <tt class="docutils literal"><span class="pre">-d:xxxDL</span></tt> - download source from <tt class="docutils literal"><span class="pre">dlurl</span></tt> and extract if required</p>
<dl class="docutils"><dt><tt class="docutils literal"><span class="pre">-d:xxxConan</span></tt> - download headers and binary from Conan.io using <tt class="docutils literal"><span class="pre">conanuri</span></tt> with</dt>
<dd>format <tt class="docutils literal"><span class="pre">pkgname[/version[@user/channel][:bhash]]</span></tt></dd>
<dt><tt class="docutils literal"><span class="pre">-d:xxxJBB</span></tt> - download headers and binary from BinaryBuilder.org using <tt class="docutils literal"><span class="pre">jbburi</span></tt> with</dt>
<dd>format <tt class="docutils literal"><span class="pre">pkgname[/version]</span></tt></dd>
</dl>
<p>This allows a single wrapper to be used in different ways depending on the user's needs. If no <tt class="docutils literal"><span class="pre">-d:xxx</span></tt> defines are specified, <tt class="docutils literal"><span class="pre">outdir</span></tt> will be searched for the header as is. The user can opt to download the sources to <tt class="docutils literal"><span class="pre">outdir</span></tt> using any other method such as git sub-modules, vendoring or pointing to a repository that was already cloned.</p>
<p>If multiple <tt class="docutils literal"><span class="pre">-d:xxx</span></tt> defines are specified, precedence is <tt class="docutils literal"><span class="pre">Std</span></tt> and then <tt class="docutils literal"><span class="pre">Git</span></tt>, <tt class="docutils literal"><span class="pre">DL</span></tt>, <tt class="docutils literal"><span class="pre">Conan</span></tt> or <tt class="docutils literal"><span class="pre">JBB</span></tt>. This allows using a system installed library if available before falling back to manual building. The user would need to specify both <tt class="docutils literal"><span class="pre">-d:xxxStd</span></tt> and one of the other methods.</p>
<p><tt class="docutils literal"><span class="pre">-d:xxxSetVer=x.y.z</span></tt> can be used to specify which version to use. It is used as a tag name for <tt class="docutils literal"><span class="pre">Git</span></tt> whereas for <tt class="docutils literal"><span class="pre">DL</span></tt>, <tt class="docutils literal"><span class="pre">Conan</span></tt> and <tt class="docutils literal"><span class="pre">JBB</span></tt>, it replaces <tt class="docutils literal"><span class="pre">$1</span></tt> in the URL if specified. Specifying <tt class="docutils literal"><span class="pre">-d:xxxSetVer</span></tt> without a <tt class="docutils literal"><span class="pre">$1</span></tt> will download that version for <tt class="docutils literal"><span class="pre">Conan</span></tt> and <tt class="docutils literal"><span class="pre">JBB</span></tt> if available. If no version is specified, the latest release of the package is downloaded. For <tt class="docutils literal"><span class="pre">Conan</span></tt>, <tt class="docutils literal"><span class="pre">-d:xxxSetVer</span></tt> can also be used to set additional</p>
<dl class="docutils"><dt>URI information:</dt>
<dd><tt class="docutils literal"><span class="pre">-d:xxxSetVer=1.9.0@bincrafters/stable:bhash</span></tt></dd>
</dl>
<p>If <tt class="docutils literal"><span class="pre">conanuri</span></tt> or <tt class="docutils literal"><span class="pre">jbburi</span></tt> are not defined and <tt class="docutils literal"><span class="pre">Conan</span></tt> or <tt class="docutils literal"><span class="pre">JBB</span></tt> is selected, the <tt class="docutils literal"><span class="pre">header</span></tt> filename is used instead.</p>
<p>All defines can also be set in code using <tt class="docutils literal"><span class="pre">setDefines()</span></tt> and checked for using <tt class="docutils literal"><span class="pre">isDefined()</span></tt> which checks for defines set from both <tt class="docutils literal"><span class="pre">-d</span></tt> and <tt class="docutils literal"><span class="pre">setDefines()</span></tt>.</p>
<p>The library is then configured (with <tt class="docutils literal"><span class="pre">cmake</span></tt> or <tt class="docutils literal"><span class="pre">autotools</span></tt> if possible) and built using <tt class="docutils literal"><span class="pre">make</span></tt>, unless using <tt class="docutils literal"><span class="pre">-d:xxxStd</span></tt> which presumes that the system package manager was used to install prebuilt headers and binaries, or using <tt class="docutils literal"><span class="pre">-d:xxxConan</span></tt> or <tt class="docutils literal"><span class="pre">-d:xxxJBB</span></tt> which download pre-built binaries.</p>
<p>The header path is stored in <tt class="docutils literal"><span class="pre">const xxxPath</span></tt> and can be used in a <tt class="docutils literal"><span class="pre">cImport()</span></tt> call in the calling wrapper. The dynamic library path is stored in <tt class="docutils literal"><span class="pre">const xxxLPath</span></tt> and can be used for the <tt class="docutils literal"><span class="pre">dynlib</span></tt> parameter (within quotes) or with <tt class="docutils literal"><span class="pre">{.passL.}</span></tt>. Any dependency libraries downloaded by <tt class="docutils literal"><span class="pre">Conan</span></tt> or <tt class="docutils literal"><span class="pre">JBB</span></tt> are returned in <tt class="docutils literal"><span class="pre">const xxxLDeps</span></tt> as a seq[string].</p>
<p><tt class="docutils literal"><span class="pre">libdir</span></tt> can be used to instruct <tt class="docutils literal"><span class="pre">getHeader()</span></tt> to copy shared libraries and their dependencies to that directory. This prevents any runtime failures if <tt class="docutils literal"><span class="pre">outdir</span></tt> gets removed or its contents changed. By default, <tt class="docutils literal"><span class="pre">libdir</span></tt> is set to the output directory where the program binary will be created. The values of <tt class="docutils literal"><span class="pre">xxxLPath</span></tt> and <tt class="docutils literal"><span class="pre">xxxLDeps</span></tt> will reflect this new location. <tt class="docutils literal"><span class="pre">libdir</span></tt> is ignored for <tt class="docutils literal"><span class="pre">Std</span></tt> mode.</p>
<p><tt class="docutils literal"><span class="pre">-d:xxxStatic</span></tt> can be specified to statically link with the library instead. This will automatically add a <tt class="docutils literal"><span class="pre">{.passL.}</span></tt> call to the static library for convenience. Note that <tt class="docutils literal"><span class="pre">-d:xxxConan</span></tt> and <tt class="docutils literal"><span class="pre">-d:xxxJBB</span></tt> download all dependency libs as well and the <tt class="docutils literal"><span class="pre">xxxLPath</span></tt> will include paths to all of them separated by space in the right order for linking.</p>
<p>Note also that Conan currently builds all OSX binaries on 10.14 so older versions of OSX will complain if statically linking to these binaries. Further, all Conan binaries for Windows are built with Visual Studio so static linking the <tt class="docutils literal"><span class="pre">.lib</span></tt> files with gcc or clang might lead to incompatibility issues if the library uses Visual Studio specific compiler features.</p>
<p><tt class="docutils literal"><span class="pre">conFlags</span></tt>, <tt class="docutils literal"><span class="pre">cmakeFlags</span></tt> and <tt class="docutils literal"><span class="pre">makeFlags</span></tt> allow sending custom parameters to <tt class="docutils literal"><span class="pre">configure</span></tt>, <tt class="docutils literal"><span class="pre">cmake</span></tt> and <tt class="docutils literal"><span class="pre">make</span></tt> in case additional configuration is required as part of the build process.</p>
<p><tt class="docutils literal"><span class="pre">altNames</span></tt> is a list of alternate names for the library - e.g. zlib uses <tt class="docutils literal"><span class="pre">zlib.h</span></tt> for the header but the typical lib name is <tt class="docutils literal"><span class="pre">libz.so</span></tt> and not <tt class="docutils literal"><span class="pre">libzlib.so</span></tt>. However, it is libzlib.dll on Windows if built with cmake. In this case, <tt class="docutils literal"><span class="pre">altNames = &quot;z,zlib&quot;</span></tt>. Comma separate for multiple alternate names without spaces.</p>
<p>The original header name is not included by default if <tt class="docutils literal"><span class="pre">altNames</span></tt> is set since it could cause the wrong lib to be selected. E.g. <tt class="docutils literal"><span class="pre">SDL2/SDL.h</span></tt> could pick <tt class="docutils literal"><span class="pre">libSDL.so</span></tt> even if <tt class="docutils literal"><span class="pre">altNames = &quot;SDL2&quot;</span></tt>. Explicitly include it in <tt class="docutils literal"><span class="pre">altNames</span></tt> like the <tt class="docutils literal"><span class="pre">zlib</span></tt> example when required.</p>
<p><tt class="docutils literal"><span class="pre">buildTypes</span></tt> specifies a list of ordered build strategies to use when building the downloaded source files. Default is [btCmake, btAutoconf]</p>
<p><tt class="docutils literal"><span class="pre">xxxPreBuild</span></tt> is a hook that is called after the source code is pulled from Git or downloaded but before the library is built. This might be needed if some initial prep needs to be done before compilation. A few values are provided to the hook to help provide context:</p>
<blockquote><p><tt class="docutils literal"><span class="pre">outdir</span></tt> is the same <tt class="docutils literal"><span class="pre">outdir</span></tt> passed in and <tt class="docutils literal"><span class="pre">header</span></tt> is the discovered header path in the downloaded source code.</p></blockquote>
<p>Simply define <tt class="docutils literal"><span class="pre">proc xxxPreBuild(outdir, header: string)</span></tt> in the wrapper and it will get called prior to the build process.</p>


</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2020-06-27 18:05:35 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
